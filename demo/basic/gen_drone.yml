kind: pipeline
type: docker
name: basic pipeline
clone:
  disable: false
steps:
- name: install-frontend-dependencies
  image: ghcr.io/grafana/shipwright:latest
  commands:
  - shipwright -step=0 ./demo/basic
- name: install-backend-dependencies
  image: ghcr.io/grafana/shipwright:latest
  commands:
  - shipwright -step=1 ./demo/basic
  depends_on:
  - install-frontend-dependencies
- name: write-version-file
  image: ghcr.io/grafana/shipwright:latest
  commands:
  - shipwright -step=2 ./demo/basic
  depends_on:
  - install-backend-dependencies
- name: compile-backend
  image: ghcr.io/grafana/shipwright:latest
  commands:
  - shipwright -step=3 ./demo/basic
  depends_on:
  - write-version-file
- name: compile-frontend
  image: ghcr.io/grafana/shipwright:latest
  commands:
  - shipwright -step=4 ./demo/basic
  depends_on:
  - compile-backend
